<!DOCTYPE html>
<html>
<head>
<!--     <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-combined.min.css" rel="stylesheet">
 -->
    <title>2014微商户邀请函</title>
     <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width,height=device-height,maximum-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">

    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="css/style.css">



</head>

<body>


    <div id="carousel">
        <div class="loading abs">
            <img src="images/loading.gif">
            <br/><span class="text">加载中...</span>
        </div>

        <div  class="content hide">

            <!--==================f1-start==================-->
            <div class="floor f1 rel">
                <h1 class="center">关于邀请函&nbsp;我有话要说</h1>
                <div class="corner abs">
                    <img src="images/corner.png">
                </div>
                <div class="inv_info talk_box">
                    <img class="tk1 rel move1" src="images/inv_ad1.png">
                    <img class="tk2 rel move2" src="images/inv_ad2.png">
                    <img class="tk3 rel move3" src="images/inv_ad3.png">
                    <img class="tk4 rel move4" src="images/inv_ad4.png">
                </div>
                <div class="link_down tc clearfix">
                    <div class="arrowDown dot fl tc">
                        <img src="images/dot_down.png">
                    </div>
                    <div class="link fl">
                        <a>
                        <img src="images/inv_ad5.png">
                        </a>
                        <a>
                        <img src="images/inv_ad6.png">
                        </a>
                    </div>
                    <div class="arrowDown dot fl tc">
                        <img src="images/dot_down.png">
                    </div>
                </div>
            </div>
            <!--==================f1-end====================-->

            <!--==================f2-start==================-->
            <div class="floor f2 rel">
                <div class="theme_logo">
                    <img src="images/logo.png">
                </div>
                <div class="theme tr">
                    <img src="images/theme.png">
                    <span>2014年5月26-27日</span>
                </div>
                <div class="desc">
                    <table width="100%" border="0">
                        <tr>
                            <td valign="top" class="nowrap">参会人员：</td>
                            <td valign="top">代理商微商户业务第一负责人</td>
                        </tr>
                        <tr>
                            <td valign="top" class="nowrap">会议地点：</td>
                            <td valign="top">兰赫美特酒店深圳·南山区·南海大道3031号(深南大道与南海大道交汇处西北角)</td>
                        </tr>
                    </table>
                </div>
                <div class="color_line"></div>
            </div>
            <!--==================f2-end====================-->

            <!--==================f3-start==================-->
            <div class="floor f3 rel">
                <img src="images/f3_ad1.png">
                <img src="images/f3_ad2.png">
                <img src="images/f3_ad3.png">
                <img src="images/f4_ad4.png">
                <div class="color_line"></div>
            </div>
            <!--==================f3-end====================-->

            <!--==================f4-start==================-->
            <div class="floor f4 rel">
                <img src="images/f4_ad1.png">
                <img src="images/f4_ad2.png">
                <img src="images/f4_ad3.png">
                <div class="link_down tc clearfix">
                    <div class="dot fl tc arrowDown">
                        <img src="images/dot_down_green.png">
                    </div>
                    <div class="link fl">
                        <a href="">
                        <img src="images/inv_ad7.png">
                        </a>
                    </div>
                    <div class="dot fl tc arrowDown">
                        <img src="images/dot_down_green.png">
                    </div>
                </div>
                <div class="color_line"></div>
            </div>
            <!--==================f4-end====================-->

            <!--==================f5-start==================-->
            <div class="floor f5 rel">
                <img class="moveTitle" src="images/f5_ad1.png">
                <img class="move1" src="images/f5_ad2.png">
                <a href="http://wsh.gaopeng.com/slltwg/Reserve/reserveList"><img class="move2" src="images/f5_ad3.png"></a>
                <img class="move3" src="images/f5_ad4.png">
                <div class="move4 bm_2">请将<span>公司名称、代理编号、参会人姓名、职务、性别、手机号、微信号、预计到达时间、特殊说明</span>以邮件形式发送至：<br><span><a href=mailto:hangcm@szsllt.com>hangcm@szsllt.com</a></span>
        <br>标题：高朋微商户代理商大会报名</div>
                <div class="member_tag abs"><img src="images/member.png"></div>
                <div class="color_line"></div>
            </div>
            <!--==================f5-end====================-->

            <!--==================f6-start==================-->
            <div class="floor f6 rel">
                <img class="move" src="images/f6_ad1.png">
                <ul>
                    <li class="move">本次交流会提供兰赫美特酒店(四星)标准双人间2晚（5-25/5-26）；</li>
                    <li class="move">房间会提前分配好放在酒店前台，凭身份证登记入住；</li>
                    <li class="move">酒店地址：深圳·南山区·南海大道3031号(深南大道与南海大道交汇处西北角)</li>
                    <li class="move">电话：<span class="blue"><a href="tel:075586378888">(0755)86378888</a></span></li>
                    <li class="move">距深圳机场约：20公里 25分钟车程</li>
                </ul>
                <img class="fade" src="images/map.png">
                <div class="member_tag abs"><img src="images/member.png"></div>

                <div class="color_line"></div>
            </div>
            <!--==================f6-end====================-->

            <!--==================f7-start==================-->
            <div class="floor f7 rel">
                <img src="images/f7_ad1.png">
                <div class="desc">
                    <ul >
                        <li>
                            <span>王磊</span>
                            <p>交通、酒店、餐饮、票务</p>
                            <p><em class="blue"><a href="tel:13715389717">13715389717</a></em><i><a href="mailto:1584401522@qq.com">1584401522@qq.com</a></i></p>
                        </li>
                        <li>
                            <span>黄春梅</span>
                            <p>报名、会务</p>
                            <p><em class="blue"><a href="tel:13798482634">13798482634</a></em><i><a href="mailto:hangcm@szsllt.com">hangcm@szsllt.com</a></i></p>
                        </li>
                        <li>
                            <span>周洁</span>
                            <p>会务</p>
                            <p><em class="blue"><a href="tel:15919862498">15919862498</a></em><i><a href="mailto:zhoujie@szsllt.com">zhoujie@szsllt.com</a></i></p>
                        </li>
                        <li>
                            <span>徐瑾</span>
                            <p>渠道</p>
                            <p><em class="blue"><a href="tel:18602160327">18602160327</a></em><i><a href="mailto:xujin@szsllt.com">xujin@szsllt.com</a></i></p>
                        </li>
                        <li>
                            <span>朱武</span>
                            <p>统筹</p>
                            <p><em class="blue"><a href="tel:18602100368">18602100368</a></em><i><a href="mailto:zhuwu@szsllt.com">zhuwu@szsllt.com</a></i></p>
                        </li>
                    </ul>
                </div>
                <img src="images/f7_ad2.png">
                <div class="member_tag abs"><img src="images/member.png"></div>
                <div class="color_line"></div>
            </div>
            <!--==================f7-end====================-->

        </div>

    </div>

    <!-- jQuery is just for the demo! Hammer.js works without jQuery :-) -->
    <script src="js/jquery-2.1.1.js"></script>
    <script src="js/modernizr.js"></script>

    <script src="js/hammer.js"></script>

    <script>
//=================== reload ==========================//

    var imgURL = "images/",
        imgArr = [
        imgURL+"color_line_bg.png",
        imgURL+"color_line.png",
        imgURL+"corner.png",
        imgURL+"dot_blue.png",
        imgURL+"dot_down_green.png",
        imgURL+"dot_down.png",
        imgURL+"f_bg_line.png",
        imgURL+"f3_ad1.png",
        imgURL+"f3_ad2.png",
        imgURL+"f3_ad3.png",
        imgURL+"f3_bg.png",
        imgURL+"f4_ad1.png",
        imgURL+"f4_ad2.png",
        imgURL+"f4_ad3.png",
        imgURL+"f4_ad4.png",
        imgURL+"f4_bg.png",
        imgURL+"f5_ad1.png",
        imgURL+"f5_ad2.png",
        imgURL+"f5_ad3.png",
        imgURL+"f5_ad4.png",
        imgURL+"f5_bg.png",
        imgURL+"f6_ad1.png",
        imgURL+"f7_ad1.png",
        imgURL+"f7_ad2.png",
        imgURL+"inv_ad1.png",
        imgURL+"inv_ad2.png",
        imgURL+"inv_ad3.png",
        imgURL+"inv_ad4.png",
        imgURL+"inv_ad5.png",
        imgURL+"inv_ad6.png",
        imgURL+"inv_ad7.png",
        imgURL+"leaves.png",
        imgURL+"logo.png",
        imgURL+"map.png",
        imgURL+"member.png",
        imgURL+"theme.png",
    ],
    now_percent = 0,
    displaying_percent= 0,
    load = $(".loading"),
    stage = $(".content");

    preload(imgArr, function(total, loaded){now_percent = Math.ceil(100 * loaded / total);});

    var timer = window.setInterval(function() {
        if (displaying_percent >= 100) {
                window.clearInterval(timer);
                //show the main stage
                load.fadeOut(300);
                stage.fadeIn(300);
                carousel.showPane(0,true);
        } else {
            if (displaying_percent < now_percent) {
                displaying_percent++;
                $('.loading .text').text(displaying_percent);
            }
        }
    },10);

    //Array add a function ------> remove()
    Array.prototype.remove = function(element) {
        for (var i = 0; i < this.length; i++)
        if (this[i] == element) this.splice(i,1);
    };


    function preload(images, progress) {
        var total = images.length;
        $(images).each(function(){
            var src = this;
            $('<img/>')
            .attr('src', src)
            .load(function() {
                images.remove(src);
                progress(total, total - images.length);
            });
        });
    }

//========================== main animation ===============================//

    //console.log($("img").length);
    var floorh = window.innerHeight;

    var panelAni_1 = function(){
        var actor = $(".f1 .talk_box [class *= move]");
        actor.css({
            top: actor.height(),
            opacity: 0,
        });

        var aniTime = 500;
        for(var i=0; i<actor.length; i++)
        {

            if(i == actor.length - 1)
            {
                actor.eq(i).delay(i*aniTime*2).animate({top : 0,opacity:1},aniTime, function() {
                    $(".f1 .link_down ").show();
                });
            }
            else
            {
            actor.eq(i).delay(i*aniTime*2).animate({top : 0,opacity:1},aniTime, function() {});

            }
        }

    }
    var panelAni_2 = function(){

        var actor1 = $(".f2 .theme_logo"),
            actor2 = $(".f2 .theme "),
            actor3 = $(".f2 .desc");

        var aniTime = 500;
        actor1.css({top:"-50px"}).animate({top: 50},aniTime);
        actor2.css({"webkitTransform" :"rotate(0deg)"});
        actor3.css({left:"100%"}).delay(aniTime*2).animate({left: 0},aniTime);
    }


    var panelAni_3 = function(){
        var actor = $(".f3 img");
        actor.css({
            left: "100%"
        });

        var aniTime = 500;
        for(var i=0; i<actor.length; i++)
        {
            actor.eq(i).delay(i*aniTime).animate({left:0},aniTime, function() {});
        }


    }
    var panelAni_4 = function(){

        var actor = $(".f4>img");
        actor.css({
            left: "100%",
            position:"relative"
        });

        var aniTime = 500;
        for(var i=0; i<actor.length; i++)
        {
            if( i == actor.length - 1)
            {
                actor.eq(i).delay(i*aniTime).animate({left:0},aniTime, function() {
                    $(".f4 .link_down ").show(function(){
                        $(".f4 .link").css('webkitTransform', 'scale(1)');
                    });
                });
            }
            else
            {
                actor.eq(i).delay(i*aniTime).animate({left:0},aniTime, function() {});
            }
        }

    }
    var panelAni_5 = function(){

        var actor1 = $(".f5 .moveTitle"),
            actor2 = $(".f5 [class*=move]").not(actor1);

        actor1.css('webkitTransform', 'rotate(0deg)');
        var aniTime = 500;
        actor2.css({
            position:"relative",
            left: "100%"
        })

        for (var i = 0; i < actor2.length; i++) {
            actor2.eq(i).delay((i+1)*aniTime).animate({left:0},aniTime, function() {});
        }

    }

    var panelAni_6 = function(){

        var actor1 = $(".f6 .move"),
            actor2 = $(".f6 .fade");
        var aniTime = 500;

        actor1.css({
            position:"relative",
            opacity:0,
            left: "100%"
        });
        actor2.css({
            display: "block",
             opacity:0,
            position: "relative",
            bottom: "-100%"
        });

        for (var i = 0; i < actor1.length; i++) {
            actor1.eq(i).delay((i)*aniTime).animate({left:0,opacity:1},aniTime, function() {});
        }
        actor2.delay(actor1.length * aniTime).animate({
            opacity:1,
            bottom:0
        },aniTime);

    }

    var panelAni_7 = function(){ }
    var animateCollection = [panelAni_1, panelAni_2 ,panelAni_3 ,panelAni_4 ,panelAni_5,panelAni_6,panelAni_7];

    var options = {
        element: "#carousel",
        direction: "up",
        animateCollection: animateCollection
    }
    var carousel = new Carousel(options);
    carousel.init();

    /*
    * super simple carousel
    * animation between panes happens with css transitions
    */
    function Carousel(options)
    {
        var self = this;
        element = $("#carousel");
        // console.log($("#carousel"),element);
        var container = $(".content", element);
        var panes = $(".content .floor", element);

        var pane_width = 0, pane_height = 0;
        var pane_count = panes.length;

        var current_pane = 0;
        var direction = options.direction;

        /**
         * initial
         */
        this.init = function() {
            setPaneDimensions();
            // this.showPane(current_pane, true);
            //setTimeout("this.showPane(current_pane, true);",500);
            //注册各种重画事件
            $(window).on("load resize orientationchange", function() {
                setPaneDimensions(); //this.showPane(current_pane, true);
            })
        };


        /**
         * set the pane dimensions and scale the container
        **/
        function setPaneDimensions() {
            if(direction == "left" || direction == "right")
            {
                pane_width = element.width();
                panes.each(function() {
                    $(this).width(pane_width).css("float","left");
                });
                container.width(pane_width*pane_count);
            }
            else if(direction == "up" || direction == "down")
            {
                element.height(window.innerHeight);
                pane_height = window.innerHeight;
                panes.each(function() {
                    $(this).height(pane_height).css("float","none");
                });
                container.height(pane_height*pane_count);
            }
        };

        /**
        ** show pane by index
        **/
        this.showPane = function(index, animate) {
            // between the bounds
            index = Math.max(0, Math.min(index, pane_count-1));
            current_pane = index;

            var offset = -((100/pane_count)*current_pane);
            setContainerOffset(offset, animate);

            console.log(current_pane);
            /*
            * show the animate in every panel
            */
            animateCollection[current_pane]();

        };

        function setContainerOffset(percent, animate) {
            container.removeClass("animate");

            if(animate) {
                container.addClass("animate");
            }

            var offsetPx,cssSetting;

            if(direction == "left" || direction == "right")
            {
                percentText = percent + "%, 0";
                offsetPx = ((pane_width*pane_count) / 100) * percent;
                cssSetting = {left : offsetPx+"px"};
            }
            else if(direction == "up" || direction == "down")
            {
                percentText = "0, " + percent + "%";
                offsetPx = ((pane_height*pane_count) / 100) * percent;
                cssSetting = {top : offsetPx+"px"};
            }

            if(Modernizr.csstransforms3d) {
                container.css("transform", "translate3d("+ percentText +",0) scale3d(1,1,1)");
            }
            else if(Modernizr.csstransforms) {
                container.css("transform", "translate("+ percentText +")");
            }
            else {
                var px = ((pane_width*pane_count) / 100) * percent;
                container.css(cssSetting);
            }
        }

        this.next = function() { return this.showPane(current_pane+1, true); };
        this.prev = function() { return this.showPane(current_pane-1, true); };

        function handleHammer(ev) {
            // disable browser scrolling
            ev.gesture.preventDefault();

            switch(ev.type) {
                case 'dragright':
                case 'dragleft':
                    // stick to the finger
                    var pane_offset = -(100/pane_count)*current_pane;
                    var drag_offset = ((100/pane_width)*ev.gesture.deltaX) / pane_count;

                    // slow down at the first and last pane
                    if((current_pane == 0 && ev.gesture.direction == "right") ||
                        (current_pane == pane_count-1 && ev.gesture.direction == "left")) {
                        drag_offset *= .4;
                    }

                    setContainerOffset(drag_offset + pane_offset);
                    break;

                case 'dragup':
                case 'dragdown':
                    // stick to the finger
                    var pane_offset = -(100/pane_count)*current_pane;
                    var drag_offset = ((100/pane_height)*ev.gesture.deltaY) / pane_count;

                    // slow down at the first and last pane
                    if((current_pane == 0 && ev.gesture.direction == "down") ||
                        (current_pane == pane_count-1 && ev.gesture.direction == "up")) {
                        drag_offset *= .4;
                    }

                    setContainerOffset(drag_offset + pane_offset);
                    break;


                case 'swipeleft':
                    self.next();
                    ev.gesture.stopDetect();
                    break;

                case 'swiperight':
                    self.prev();
                    ev.gesture.stopDetect();
                    break;

                case 'swipeup':
                    self.next();
                    ev.gesture.stopDetect();
                    break;

                case 'swipedown':
                    self.prev();
                    ev.gesture.stopDetect();
                    break;

                case 'release':
                    // more then 50% moved, navigate
                    if(Math.abs(ev.gesture.deltaX) > pane_width/2) {
                        if(ev.gesture.direction == 'right' || ev.gesture.direction == 'down' )
                        {
                            self.prev();
                        }
                        else if(ev.gesture.direction == 'left' || ev.gesture.direction == 'up' )
                        {
                            self.next();
                        }
                    }
                    else {
                        //self.showPane(current_pane, true);
                    }
                    break;
            }
        }

        if(direction == "left" || direction == "right")
            new Hammer(element[0], { dragLockToAxis: true }).on("release dragleft dragright swipeleft swiperight", handleHammer);
        else if(direction == "up" || direction == "down")
            new Hammer(element[0], { dragLockToAxis: true }).on("release dragup dragdown swipeup swipedown", handleHammer);
    }



    </script>


</body>
</html>
